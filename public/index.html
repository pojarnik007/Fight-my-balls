<!doctype html>
<html lang="en">
  <head>
    <!-- Yandex Games SDK -->
    <script src="/sdk.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Delicious+Handrawn&family=Edu+NSW+ACT+Cursive:wght@400..700&family=Homemade+Apple&family=Playwrite+MX+Guides&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <title>Ball Fight Simulation</title>
  </head>
  <body>
    <main class="stage">
      <!-- –ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ -->
      <div id="player-profile">
        <img id="player-avatar" src="" alt="avatar">
        <p id="player-name">–ù–∏–∫–Ω–µ–π–º</p>
        <p id="player-money">üí∞: </p>
      </div>

      <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
      <div id="main-menu" class="menu-screen">
        <h2 class="menu-title">–ë–∏—Ç–≤–∞ —à–∞—Ä–æ–≤</h2>
        <div class="menu-buttons">
          <button id="vs-friend-btn" class="start-btn">–ü—Ä–æ—Ç–∏–≤ –¥—Ä—É–≥–∞</button>
          <button id="vs-bot-btn" class="start-btn">–ü—Ä–æ—Ç–∏–≤ –±–æ—Ç–∞</button>
          <button id="debts-btn" class="start-btn">–°—Ç–∞–≤–∫–∏</button>
        </div>
      </div>

      <!-- –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π (VS Friend) -->
      <div id="menu-screen" class="menu-screen" style="display: none;">
        <button id="back-btn" class="back-btn">–ù–∞–∑–∞–¥</button>
        <h2 class="menu-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –±–æ–π—Ü–∞</h2>
        <div class="characters-wrapper">
          <div class="character-panel">
            <h3>–ò–≥—Ä–æ–∫ 1</h3>
            <div id="char-buttons-p1" class="char-buttons"></div>
          </div>
          <div id="bot-bet-block" style="display:none; margin-left:2vw; flex:1;">
              <p id="bot_text" style="font-weight:bold; margin-bottom:1vh;">
                –ó–∞ –ø–æ–±–µ–¥—É –Ω–∞–¥ –±–æ—Ç–æ–º –≤—ã –ø–æ–ª—É—á–∏—Ç–µ √ó1.5 –æ—Ç —Å–≤–æ–µ–π —Å—Ç–∞–≤–∫–∏
              </p>
              <input 
                type="number" 
                id="bot-bet-amount" 
                min="0" 
                value="0" 
                placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—Ç–∞–≤–∫—É"
                style="width:100%; padding:5px; border-radius:5px;"
              >
              <div id="bot-bet-error" style="color:red; display:none; margin-top:0.5vh;"></div>
          </div>
          <div class="character-panel" id="char-panel-p2">
            <h3>–ò–≥—Ä–æ–∫ 2</h3>
            <div id="char-buttons-p2" class="char-buttons"></div>
          </div>
        </div>
        <button id="start-btn" class="start-btn">–ù–∞—á–∞—Ç—å –±–æ–π</button>
      </div>

      <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞–≤–æ–∫ (Debts) -->
      <div id="debts-screen" class="menu-screen" style="display: none;">
        <button id="debts-back-btn" class="back-btn">–ù–∞–∑–∞–¥</button>
        <h2 class="menu-title">–ü–æ—Å—Ç–∞–≤—å—Ç–µ —Å—Ç–∞–≤–∫—É</h2>

        <div id="bets-list">
          <div class="bot-bet-row">
            <div class="bot-left">
              <p class="bot-name" id="bot1-name"></p>
              <p class="bot-coef" id="bot1-coef"></p>
            </div>

            <div class="bot-vs">VS</div>

            <div class="bot-right">
              <p class="bot-name" id="bot2-name"></p>
              <p class="bot-coef" id="bot2-coef"></p>
            </div>
          </div>
        </div>

        <div class="bet-controls">
          <div id="bet-choice">
            <button id="bet-on-p1" class="bet-btn">–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –±–æ—Ç–∞ 1</button>
            <button id="bet-on-p2" class="bet-btn">–ü–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –±–æ—Ç–∞ 2</button>
          </div>

          <label id="botvsbotinput">
            –°—Ç–∞–≤–∫–∞:
            <input type="number" id="bet-amount" min="1" value="0">
          </label>

          <button id="place-bet">–ü–æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É</button>
        </div>
      </div>


      <!-- –°–∞–º –∫–∞–Ω–≤–∞—Å -->
      <div id="game-wrapper" style="display: none">
        <h2 id="fight-title"><span id="fight-text">–ë–æ–π!</span></h2>

        <div class="canvas-container">
          <div class="canvas-wrapper">
            <div id="sketch-holder"></div>
          </div>

          <div class="hud">
            <div class="left-group">
              <div class="item" id="special1">Spin speed:</div>
              <div class="item" id="player1Stat"></div>
            </div>
            <div class="right-group">
              <div class="item" id="special2">Damage:</div>
              <div class="item" id="player2Stat"></div>
            </div>
          </div>

          <div id="end-buttons" style="display: none;">
            <button id="menu-btn" class="end-btn">–ú–µ–Ω—é</button>
            <!-- <button id="retry-btn" class="end-btn">Retry</button> -->
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
